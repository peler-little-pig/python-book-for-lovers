# 获得输入

## input函数

如果仔细分析一下我们日常使用软件的操作，你会发现根本上是我们通过某种方式给软件一个输入，再通过某种方式获取它的输出，循环往复。比如你在浏览器中搜索问题，搜索的问题是输入，获得的答案是输出。在打游戏时，你的操作是输入，游戏中的人物随着你的操作移动或做出种种动作的画面是输出。

我们现在已经学习了输出，那就让我们来学习如何获得输入吧。废话不多说，直接上代码：

```python
print(input())
```

运行后，在 Pycharm 的运行窗口中输入一些内容，回车:

<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/image-20231003153924999.png">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">在红线标注处输入内容，回车</div> </center><br>

你会发现回车后我们输入的内容被输出了一遍：

<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/image-20231003154246677.png">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">绿色的是我们的输入，白色是输出</div> </center><br>

还记得我们讲过的函数吗？没错，这里的 `input()` 也是一个函数。它会从 **终端** 读取我们输入的内容并以字符串形式将读取到的值返回。

这句话中有三点需要解释， `input()` 是一个名字叫做 `input` 的函数，在这里我们并没有将任何参数传递进去（没有将东西塞到黑盒里）。

终端是计算机系统中让用户输入数据和显示结果的地方，比如上图所示的 Pycharm 内置运行窗口就是一种终端。

我说过有的黑盒还会“产生”一些东西，这其实就是对函数返回值的一个形象的比喻。这里的 `input()` 函数将从终端读取到的用户输入的值返回。`input()` 函数的返回值变成了 `print()` 函数的输入。当我们调用了一个有返回值的函数之后，我们就可以将原来的函数看成是它的返回值进行分析。就像一道小学的混合运算题：

```
3+9+(5+2)
```

我们要计算这个式子的值，就要先把 `(5+2)` 的结果算出来，再将其当作一个整数带入：

```
 3+9+(5+2)
=3+9+7
=19
```

同理，我们来看一看 `print(input())` 语句是怎么执行的。`input()` 函数的返回值变成了 `print()` 函数的输入，那我要知道打印出来的内容，就要先知道 `input()` 函数的返回值。假设我们输入了“peler”：

```python
  print(input())
->print("peler")
>>peler				# 这里表示“peler”被输出出来了
```

这一开始可能比较难理解，我建议你对照上面的混合运算多看几遍。

## 变量

代码：

```python
a = 2
b = 3
print（a+b）
```

输出：

```
5
```

Python 语言之所以被广为流传其易入门的特点，很大程度上是因为其代码与人类的语言更加接近（尽管还有很大的不同）。阅读上面的代码，尝试构建一套自己对其的解释，再对照以下的说明内容。

所谓程序，归根究底就是用不同的方法对不同的数据进行不同的处理。然而，我们却很难在一步之内将所要处理的数据获取到、计算好（你也许认为我们现在学习的程序所进行的操作可以用一行代码一步之内解决，那是因为现在的很多示例代码仅仅用来学习，几乎没有实用意义。随着学习的深入，你会自己体会到这一点）。这时就需要有地方来暂时存储待处理、未处理完的数据，这就是变量的作用。

一个经典的比喻是把变量比作烧杯，而变量存储的值就是其中存放的液体。当我在 a 烧杯中存放红色液体 200ml，b 烧杯中存放蓝色液体 100ml（如下图），我该怎样交换两个烧杯的液体呢？（当然，所有烧杯的容量对于做这件事情都绰绰有余）。

<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/Screenshot_20231018-080229_OneNote.jpg">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">一张及其抽象的草图</div> </center><br>

很显然，我们无法同时把 a 烧杯的液体倒入 b 烧杯，又把 b 烧杯的液体倒入 a 烧杯。所以你需要一个变量——另一个烧杯 c 来作为操作过程中的额外存储装置，这样步骤就非常简单了：

```
把 a 烧杯的液体倒入 c 烧杯，（为了严谨期间，假设没有液体残留在烧杯壁上，下同）；
把 b 烧杯的液体倒入 a 烧杯；
把 c 烧杯的液体倒入 b 烧杯。
```

<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/Screenshot_20231018-081101_OneNote.jpg">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">另一张更抽象的草图</div> </center><br>

这样，交换液体的目的就达到了，用于存储待处理的值和过程的中间值，就是变量的作用。

### 赋值与调用

在 Python 中，给变量赋值（设定变量的值，就像往烧杯中倒入的液体）的语句通常写成 `变量名=值` 的形式。例如 `a=2`。变量之所以叫做变量，是因为它的值随时可以变化，可以变化无数次。并且在 Python 中，变量存储值的类型也可以变化。比如我们可以先将一个整数赋值给某个变量，再将它的值赋值为一个字符串（当然一般我们不这样做，但从某种程度上来说这也是 Python 易学的原因）。我经常在学习一门新的编程语言时，在脑中构建一套翻译系统来理解代码。在这里可以翻译成 `将变量 {变量名} 赋值为 {值}`，应用到 `a=2` 语句中，就是 `将变量 a 赋值为 2`。这非常容易掌握，并且在学习初期阅读代码时很有作用。

调用变量（使用变量的值）在 Python 中直接以变量名表示。在语句 `print(a+b)` 里，我们就是调用了 `变量a` 和 `变量b` 的值，并将其相加，输出。另一个有用的技巧是把调用的变量直接看作其存储的值进行分析。上述代码转换为 `print(2+3)` 之后，我们就可以“目测”代码的运行效果了。变量中存储的是什么值就按照其运算规则进行运算，比如以下代码：

```python
x = 1.0
y = 1
print(x+y)
```

根据上一章的知识，其结果显然是：

```
2.0
```

需要特别注意的是，调用变量进行运算并不会改变变量的值。我们把调用的变量替换成其存储的值再进行分析也体现了这一点，即运算结果和变量本身没有任何关系，不会改变变量的值。`a+2` 这个语句不会将 `变量a`的值增加 2。请牢记这一点，据我所知包括我在内的很多人在新手期都会犯这个错误。

### 运算改变变量存储的值

要实现将 `变量a` 的值增加 2 这一目的，我们可以使用如下语句：

```python
a = a+2
```

就像 `print(input())` 语句存在潜在的优先级一样，要想知道打印出的值，就要先调用 `input()` 函数，获得它的返回值。同理，要想知道 `变量a` 被赋予的值，就要先运算 `a+2` 得到结果。事实上，只要稍加分析，你就会发现等式右边表达式（一段可以被求值的代码）总是先被运算得到结果，再赋予等号左边表示的变量。

其余的数学运算也是同理：

``` python
# 以下像这样写在井号后的内容叫做注释，它们不会被Python执行，只是给我们人类看的代码批注
a = 5         # 将变量a赋值为5
a = a + 2     # 将变量a的值加2并赋值给a
print(a)      # 打印变量a
a = a - 3     # 将变量a的值减3并赋值给变量a
print(a)      # 打印变量a
a = a * 2     # 将变量a的值乘以2并赋值给变量a
print(a)      # 打印变量a
a = a / 4     # 将变量a的值除以4并赋值给变量a
print(a)      # 打印变量a
a = 21        # 将变量a赋值为21
a = a % 4     # 将变量a的值除以4取余数并赋值给变量a
print(a)      # 打印变量a
a = 3         # 将变量a赋值为3
a = a // 2    # 将变量a的值整除2并赋值给变量a
print(a)      # 打印变量a
```

输出：

```
7
4
8
2.0
1
1
```

### 语法糖

无论是Python还是其它编程语言，当一个语法结构经常出现并且写起来较为繁琐时，语法糖就出现了。正如它的名字一样，语法糖总是能调和我们写的繁乱苦涩的代码。

对于 `a=a+2` 有语法糖 `a+=2`，换句话说，你总是可以把 `a+=2` 转化为 `a=a+2` 理解。同理，让我们用这一系列的语法糖调和刚才苦涩的程序。

```python
a = 5
a += 2
print(a)
a -= 3
print(a)
a *= 2
print(a)
a /= 4
print(a)
a = 21
a %= 4
print(a)
a = 3
a //= 2
print(a)
```

代码运行结果和之前的完全一样，在这里就不再重复了。

## 字符串运算

现在，让我们利用之前学的所有知识来写出以下代码：

```python
a = input()
b = input()
print(a+b)
```

运行后，你应该在 Pycharm 的运行窗口中输入一些内容，回车，再输入一些内容，回车。

假设我输入的分别是“hello”和“world”，那么结果应该是“helloworld”。

对输出和输入之间的关系有敏锐的洞察力在编程中往往是有益的。输入不同的值，尝试观察输出与输入的关系，有了想法后再对照下文内容。

### 字符串加法

相信你已经推敲了出来。没错，字符串加法就是这么简单直接，不存在什么进位规则，只是单纯地把两个字符串首尾相连接在一起，以下的图应该能帮助你更好理解：

<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/Screenshot_20231018-081613_OneNote.jpg">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">一张生动的草图</div> </center><br>

### 字符串乘法

代码：

```python
print("abc"*5)
```

结果：

```
abcabcabcabcabc
```

和探索字符串加法一样，尝试修改字符串的内容和整数值，观察输出和输入的关系。

我们在小学就学过，`2*3` 等于 `2+2+2`。同理，`"abc*5"` 就等于 `"abc"+"abc"+"abc"+"abc"+"abc"`。

你是否有这样的好奇和疑问？字符串是不是只能与字符串相加，与整数相乘？有这样的疑问是非常好的。天马行空的想象，随意尝试是编程学习中必不可少的环节。不要因为代码无法正常运行而感到沮丧，这是没有必要的。事实上，你会发现这会让人上瘾，因为这可能是唯一一件你在现实生活中可以随便犯错而不用考虑后果的事，享受这种乐趣吧。

你发现代码不能正常运行，Pycharm 的运行窗口中有红色的信息被打印出来，这叫做报错，报告错误。同样，不要因为有报错而烦恼，Python 完善的报错系统能为你展示详细的错误信息，真是谢天谢地。你也许可以想象，如果没有报错信息，可代码就是不正常运行，是多么无助。


<center>    <img style="border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);"     src="study/get_input.assets/image-20231018074723040.png">    <br>    <div style="color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;">一个报错的例子</div> </center><br>

关于报错信息的阅读和解决方案，我们将在下一章进行讲解。